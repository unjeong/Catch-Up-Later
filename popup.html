<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=380">
  <title>Catch Up Later</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    
    <!-- ===== Main View ===== -->
    <div id="mainView" class="view active">
      <!-- Header -->
      <header class="main-header">
        <h1><img src="icons/icon48.png" alt="CUL" class="header-logo"> Catch Up Later</h1>
        <button id="openSettings" class="btn-icon" title="Settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
        </button>
      </header>
      
      <!-- Alert Counter -->
      <div id="totalAlertCard" class="total-alert-card">
        <div id="alertClickArea" class="alert-click-area">
          <div class="alert-count">
            <span id="totalCount">0</span>
          </div>
          <div class="alert-label">UPDATE</div>
        </div>
        <div id="lastCheckTime" class="last-check-time">-</div>
        <button id="refreshAll" class="btn-refresh-main" title="Refresh">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/>
            <path d="M21 3v5h-5"/>
          </svg>
        </button>
      </div>
      
      <!-- Site Registration -->
      <section class="section">
        <div class="register-box-compact">
          <input type="text" id="currentUrl" readonly placeholder="Open a page to monitor">
          <button id="addCurrentPage" class="btn btn-primary">Add Site</button>
        </div>
      </section>
      
      <!-- Registered Sites -->
      <section class="section">
        <h2></h2>
        <div id="siteGrid" class="site-grid">
          <div class="site-empty">No sites added yet</div>
        </div>
      </section>
      
      <!-- Footer -->
      <footer>
        <p>Catch Up Later v1.0 • Made by <a href="https://www.linkedin.com/in/un-jeong/" target="_blank" class="author-link">Un</a> for productivity</p>
        <a href="https://forms.gle/dH29g21K5Ce1a7DU6" target="_blank" class="feedback-link">Send Feedback</a>
      </footer>
    </div>
    
    <!-- ===== Settings View ===== -->
    <div id="settingsView" class="view">
      <!-- Header -->
      <header class="settings-header">
        <button id="backToMain" class="btn-back">← Back</button>
        <h1>Settings</h1>
        <div class="btn-icon settings-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
        </div>
      </header>
      
      <!-- Check Time -->
      <section class="section">
        <h2><svg class="section-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg> Check Time</h2>
        <p class="hint" style="margin-bottom: 10px;">Check for new posts daily at this time</p>
        <div class="time-picker">
          <select id="checkHour" class="time-select">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9" selected>9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
          </select>
          <span class="time-separator">:</span>
          <select id="checkMinute" class="time-select">
            <option value="0">00</option>
            <option value="15">15</option>
            <option value="30">30</option>
            <option value="45">45</option>
          </select>
          <select id="checkAmPm" class="time-select ampm">
            <option value="AM">AM</option>
            <option value="PM">PM</option>
          </select>
        </div>
        <div id="nextCheckInfo" class="next-check-info"></div>
      </section>
      
      <!-- Notification -->
      <section class="section">
        <h2><svg class="section-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg> Notification</h2>
        <label class="setting-toggle">
          <span>Browser Notification</span>
          <input type="checkbox" id="showNotification" checked>
        </label>
      </section>
      
      <!-- Manage Sites -->
      <section class="section">
        <h2><svg class="section-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg> Manage Sites <span id="siteCountBadge" class="count-badge">0</span></h2>
        <p class="hint" style="margin-bottom: 10px;">Custom selector monitors specific area only</p>
        <ul id="siteListManage" class="site-list-manage">
          <li class="empty-state">No sites added yet</li>
        </ul>
      </section>
      
      <!-- Storage -->
      <section class="section">
        <h2><svg class="section-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg> Storage</h2>
        <div id="storageUsage" class="storage-usage">
          <div class="storage-bar-container">
            <div class="storage-bar" id="storageBar"></div>
          </div>
          <div class="storage-text">
            <span id="storageUsed">-</span> / <span id="storageTotal">-</span> used
          </div>
        </div>
        <p class="hint" style="margin-top: 8px;"><svg class="hint-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg> Synced with Chrome account</p>
      </section>
      
      <!-- Data -->
      <section class="section">
        <h2><svg class="section-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg> Data</h2>
        <button id="resetData" class="btn btn-primary full-width">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
          Reset All Data
        </button>
      </section>
    </div>
    
  </div>
  
  <script src="popup.js"></script>
</body>
</html>
